{% extends "base.html" %}

{% block title %}Security Checkpoint - Fortress{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <!-- Security Icon -->
        <div style="font-size: 4rem; margin-bottom: 1rem;">üõ°Ô∏è</div>

        <h1 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Security Checkpoint</h1>
        <p class="auth-subtitle">Two-Factor Authentication</p>

        <!-- OTP Card -->
        <div class="glass-card">
            <div class="glass-card-title">
                <span>üì±</span>
                <span>Verification Code</span>
            </div>

            <p class="text-muted mb-md" style="font-size: 0.9rem;">
                Hello, <span class="text-neon">{{ username }}</span>. Enter the 6-digit code from your authenticator
                app.
            </p>

            {% if error %}
            <div class="alert alert-error">
                <span>‚ö†Ô∏è</span>
                <span>{{ error }}</span>
            </div>
            {% endif %}

            <form method="POST" action="/verify-otp" class="auth-form">
                <div class="form-group">
                    <input type="text" id="otp_code" name="otp_code" class="form-control otp-input" maxlength="6"
                        pattern="[0-9]{6}" placeholder="000000" autocomplete="one-time-code" required>
                </div>

                <button type="submit" class="btn btn-primary w-full">
                    Verify Identity
                </button>
            </form>

            <div class="mt-lg text-center">
                <a href="/" class="text-muted" style="font-size: 0.85rem;">
                    ‚Üê Return to login
                </a>
            </div>
        </div>

        <!-- Security Notice -->
        <div class="mt-lg" style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
            <span class="pulse-dot"></span>
            <span class="text-muted" style="font-size: 0.75rem;">Secure session active</span>
        </div>
    </div>
</div>
{% endblock %}